{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nexports.default = createValidation;\nvar _universalPromise = require('universal-promise');\nvar _universalPromise2 = _interopRequireDefault(_universalPromise);\nvar _mapValues = require('lodash/mapValues');\nvar _mapValues2 = _interopRequireDefault(_mapValues);\nvar _ValidationError = require('../ValidationError');\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\nvar _Reference = require('../Reference');\nvar _Reference2 = _interopRequireDefault(_Reference);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n  return target;\n}\nvar formatError = _ValidationError2.default.formatError;\nfunction resolveParams(oldParams, newParams, resolve) {\n  return (0, _mapValues2.default)(_extends({}, oldParams, newParams), resolve);\n}\nfunction createErrorFactory(_ref) {\n  var value = _ref.value;\n  var label = _ref.label;\n  var resolve = _ref.resolve;\n  var opts = _objectWithoutProperties(_ref, ['value', 'label', 'resolve']);\n  return function createError() {\n    var _ref2 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var _ref2$path = _ref2.path;\n    var path = _ref2$path === undefined ? opts.path : _ref2$path;\n    var _ref2$message = _ref2.message;\n    var message = _ref2$message === undefined ? opts.message : _ref2$message;\n    var _ref2$type = _ref2.type;\n    var type = _ref2$type === undefined ? opts.name : _ref2$type;\n    var params = _ref2.params;\n    params = _extends({\n      path: path,\n      value: value,\n      label: label\n    }, resolveParams(opts.params, params, resolve));\n    return _extends(new _ValidationError2.default(typeof message === 'string' ? formatError(message, params) : message, value, path, type), {\n      params: params\n    });\n  };\n}\nfunction createValidation(options) {\n  var name = options.name;\n  var message = options.message;\n  var test = options.test;\n  var params = options.params;\n  var useCallback = options.useCallback;\n  function validate(_ref3) {\n    var value = _ref3.value;\n    var path = _ref3.path;\n    var label = _ref3.label;\n    var options = _ref3.options;\n    var rest = _objectWithoutProperties(_ref3, ['value', 'path', 'label', 'options']);\n    var parent = options.parent;\n    var resolve = function resolve(value) {\n      return _Reference2.default.isRef(value) ? value.getValue(parent, options.context) : value;\n    };\n    var createError = createErrorFactory({\n      message: message,\n      path: path,\n      value: value,\n      params: params,\n      label: label,\n      resolve: resolve,\n      name: name\n    });\n    var ctx = _extends({\n      path: path,\n      parent: parent,\n      type: name,\n      createError: createError,\n      resolve: resolve,\n      options: options\n    }, rest);\n    return new _universalPromise2.default(function (resolve, reject) {\n      !useCallback ? resolve(test.call(ctx, value)) : test.call(ctx, value, function (err, valid) {\n        return err ? reject(err) : resolve(valid);\n      });\n    }).then(function (validOrError) {\n      if (_ValidationError2.default.isError(validOrError)) throw validOrError;else if (!validOrError) throw createError();\n    });\n  }\n  validate.TEST_NAME = name;\n  validate.TEST_FN = test;\n  validate.TEST = options;\n  return validate;\n}\nmodule.exports.createErrorFactory = createErrorFactory;\nmodule.exports = exports['default'];","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","default","createValidation","_universalPromise","require","_universalPromise2","_interopRequireDefault","_mapValues","_mapValues2","_ValidationError","_ValidationError2","_Reference","_Reference2","obj","_objectWithoutProperties","keys","indexOf","formatError","resolveParams","oldParams","newParams","resolve","createErrorFactory","_ref","value","label","opts","createError","_ref2","undefined","_ref2$path","path","_ref2$message","message","_ref2$type","type","name","params","options","test","useCallback","validate","_ref3","rest","parent","isRef","getValue","context","ctx","reject","err","valid","then","validOrError","isError","TEST_NAME","TEST_FN","TEST","module"],"sources":["C:/projects-coding/projects/react-js/learn-react/ramizaid/node_modules/yup/lib/util/createValidation.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = createValidation;\n\nvar _universalPromise = require('universal-promise');\n\nvar _universalPromise2 = _interopRequireDefault(_universalPromise);\n\nvar _mapValues = require('lodash/mapValues');\n\nvar _mapValues2 = _interopRequireDefault(_mapValues);\n\nvar _ValidationError = require('../ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nvar _Reference = require('../Reference');\n\nvar _Reference2 = _interopRequireDefault(_Reference);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar formatError = _ValidationError2.default.formatError;\n\nfunction resolveParams(oldParams, newParams, resolve) {\n  return (0, _mapValues2.default)(_extends({}, oldParams, newParams), resolve);\n}\n\nfunction createErrorFactory(_ref) {\n  var value = _ref.value;\n  var label = _ref.label;\n  var resolve = _ref.resolve;\n\n  var opts = _objectWithoutProperties(_ref, ['value', 'label', 'resolve']);\n\n  return function createError() {\n    var _ref2 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var _ref2$path = _ref2.path;\n    var path = _ref2$path === undefined ? opts.path : _ref2$path;\n    var _ref2$message = _ref2.message;\n    var message = _ref2$message === undefined ? opts.message : _ref2$message;\n    var _ref2$type = _ref2.type;\n    var type = _ref2$type === undefined ? opts.name : _ref2$type;\n    var params = _ref2.params;\n\n    params = _extends({ path: path, value: value, label: label }, resolveParams(opts.params, params, resolve));\n\n    return _extends(new _ValidationError2.default(typeof message === 'string' ? formatError(message, params) : message, value, path, type), { params: params });\n  };\n}\n\nfunction createValidation(options) {\n  var name = options.name;\n  var message = options.message;\n  var test = options.test;\n  var params = options.params;\n  var useCallback = options.useCallback;\n\n\n  function validate(_ref3) {\n    var value = _ref3.value;\n    var path = _ref3.path;\n    var label = _ref3.label;\n    var options = _ref3.options;\n\n    var rest = _objectWithoutProperties(_ref3, ['value', 'path', 'label', 'options']);\n\n    var parent = options.parent;\n    var resolve = function resolve(value) {\n      return _Reference2.default.isRef(value) ? value.getValue(parent, options.context) : value;\n    };\n\n    var createError = createErrorFactory({\n      message: message, path: path, value: value, params: params,\n      label: label, resolve: resolve, name: name\n    });\n\n    var ctx = _extends({ path: path, parent: parent, type: name, createError: createError, resolve: resolve, options: options }, rest);\n\n    return new _universalPromise2.default(function (resolve, reject) {\n      !useCallback ? resolve(test.call(ctx, value)) : test.call(ctx, value, function (err, valid) {\n        return err ? reject(err) : resolve(valid);\n      });\n    }).then(function (validOrError) {\n      if (_ValidationError2.default.isError(validOrError)) throw validOrError;else if (!validOrError) throw createError();\n    });\n  }\n\n  validate.TEST_NAME = name;\n  validate.TEST_FN = test;\n  validate.TEST = options;\n\n  return validate;\n}\n\nmodule.exports.createErrorFactory = createErrorFactory;\nmodule.exports = exports['default'];"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}